<div class="widget-body no-padding">
  <table class="table table-bordered table-only-inner-bordered">
    <thead>
      <th><%= DailyFrequency.human_attribute_name :unity %></th>
      <th><%= DailyFrequency.human_attribute_name :classroom %></th>
      <th><%= DailyFrequency.human_attribute_name :discipline %></th>
      <th><%= DailyFrequency.human_attribute_name :frequency_date %></th>
    </thead>
    <tbody style="border-bottom: 1px solid #ccc;">
      <td><%= @daily_frequencies.first.classroom.unity %></td>
      <td><%= @daily_frequencies.first.classroom %></td>
      <td><%= @daily_frequencies.first.global_absence? ? 'Todas' : @daily_frequencies.first.discipline %></td>
      <td><%= l @daily_frequencies.first.frequency_date %></td>
    </tbody>
  </table>

  <%= form_tag update_multiple_daily_frequencies_path, method: :put, class: 'smart-form' do %>
    <table class="table table-bordered table-only-inner-bordered table-striped table-hover">
      <thead>
        <th style="width: 65px;">Sequencial</th>
        <th style="min-width: 200px;"><%= DailyFrequencyStudent.human_attribute_name :student %></th>
        <% @daily_frequencies.each do |daily_frequency| %>
            <th>
              <% if !daily_frequency.global_absence? %>
                <%= daily_frequency.class_number.to_s + 'Âª Aula - '%>
              <% end %>
              <%= DailyFrequencyStudent.human_attribute_name(:present) %>
            </th>
        <% end %>
      </thead>
      <tbody>
        <% @students.each_with_index do |student, sequence| %>

          <%= render 'student_fields', student: student, sequence: sequence %>
        <% end %>
      </tbody>
    </table>

    <footer>
      <%= submit_tag 'Salvar', class: 'btn btn-primary' %>
      <%= link_to t('.destroy'), destroy_multiple_daily_frequencies_path(daily_frequencies_ids: @daily_frequencies.map(&:id)),
                                 method: :delete, data: { confirm: t('.confirm') }, class: 'btn btn-danger' %>

    </footer>
  <% end %>
</div>