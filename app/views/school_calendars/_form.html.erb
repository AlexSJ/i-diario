<%= simple_form_for @school_calendar, html: { class: "smart-form" } do |f| %>
  <%= f.error_notification %>

  <fieldset>
    <div class="row">
      <div class="col col-sm-4">
        <%= f.input :year, input_html: { max_length: 4 } %>
      </div>

      <div class="col col-sm-4">
        <%= f.input :number_of_classes %>
      </div>
    </div>

  </fieldset>

  <fieldset id="school_calendar_steps" data-nested-fields-container>
    <legend>Etapas</legend>

    <%= link_to_add_association t('.add_step'), f, :steps,
      class: 'btn btn-default btn-sm btn-add-item' %>

    <div>
      <span class="help-inline">
        <%= f.object.errors[:steps].join "<br />" %>
      </span>
    </div>

    <div data-item-setting-steps-container>
      <%= f.simple_fields_for :steps, @school_calendar.steps.ordered do |step| %>
        <%= render 'step_fields', f: step %>
      <% end %>
    </div>
  </fieldset>

  <footer>
    <%= link_to "Voltar", school_calendars_path, class: "btn btn-default" %>

    <% if @school_calendar.persisted? %>
      <%= link_to 'HistÃ³rico', history_school_calendar_path(@school_calendar), class: 'btn btn-info' %>
    <% end %>

    <%= f.submit 'Salvar', class: 'btn btn-primary' %>

  </footer>
<% end %>
